{
  "name": "sge_activity",
  "description": "This workflow watches the SLURM reporting file and publishes updates about individual jobs",
  "steps": [
    { "name": "teragrid.sysinfo.ResourceNameStep" },
    { "name": "teragrid.sysinfo.SiteNameStep" },
    { "name": "glue2.slurm.ComputingActivityUpdateStep"
      "params": {
        "position_file": "slurm_activity.pos"
      }
    },
    {
      "name": "ipf.publish.AmqpStep",
      "params": {
        "publish": ["glue2.computing_activity.ComputingActivityOgfJson"],
        "services": [ "info1.dyn.teragrid.org", "info2.dyn.teragrid.org" ],
        "ssl_options": {
          "keyfile": "key.pem",
          "certfile": "cert.pem",
          "ca_certs": "ca_certs.pem"
        },
	"vhost": "xsede_private",
        "exchange": "glue2.computing_activity"
      }
    }
  ]
}
