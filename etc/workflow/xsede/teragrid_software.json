{
  "name": "teragrid_software",
  "steps": [
    { "name": "teragrid.sysinfo.ResourceNameStep" },
    { "name": "teragrid.kits.KitsStep",
      "params": {
        "core_kit_directory": "/share1/apps/teragrid/kits/ctss-core-registration-5.0.0-r1"
      }
    },
    {
      "name": "ipf.publish.AmqpStep",
      "params": {
        "publish": ["teragrid.kits.KitsXml"],
        "services": [ "info1.dyn.teragrid.org", "info2.dyn.teragrid.org" ],
        "ssl_options": {
          "keyfile": "key.pem",
          "certfile": "cert.pem",
          "ca_certs": "ca_certs.pem"
        },
	"vhost": "teragrid_public",
        "exchange": "kits"
      }
    },
    { "name": "teragrid.local_software.LocalSoftwareStep",
      "params": {
        "mechanism": "file",
        "file": "/share1/apps/teragrid/globus-mds-info-4.0.8-r1/etc/globus_wsrf_mds_usefulrp/lonestar-local.xml"
      }
    },
    {
      "name": "ipf.publish.AmqpStep",
      "params": {
        "publish": ["teragrid.local_software.LocalSoftwareXml"],
        "services": [ "info1.dyn.teragrid.org", "info2.dyn.teragrid.org" ],
        "ssl_options": {
          "keyfile": "key.pem",
          "certfile": "cert.pem",
          "ca_certs": "ca_certs.pem"
        },
	"vhost": "teragrid_public",
        "exchange": "local_software"
      }
    }
  ]
}
