{
  "name": "teragrid_portal",
  "steps": [
    { "name": "ipf.teragrid.sysinfo.ResourceNameStep" },
    { "name": "ipf.teragrid.portal.UserPortalLoadStep",
      "params": {
        "provider_script": "/share1/apps/teragrid/globus-wsrf-4.0.8-r2/libexec/tg_user_portal_provider",
        "source": "sge"
      }
    },
    {
      "name": "ipf.publish.AmqpStep",
      "params": {
        "publish": ["ipf.teragrid.portal.UserPortalLoadXml"],
        "services": [ "info1.dyne.teragrid.org", "info2.dyne.teragrid.org" ],
        "ssl_options": {
          "keyfile": "key.pem",
          "certfile": "cert.pem",
          "ca_certs": "ca_certs.pem"
        },
	"vhost": "teragrid_public",
        "exchange": "user_portal"
      }
    },
    { "name": "teragrid.portal.UserPortalJobsStep",
      "params": {
        "provider_script": "/share1/apps/teragrid/globus-wsrf-4.0.8-r2/libexec/tg_user_portal_provider",
        "source": "sge"
      }
    },
    {
      "name": "ipf.publish.AmqpStep",
      "params": {
        "publish": ["ipf.teragrid.portal.UserPortalJobsXml"],
        "services": [ "info1.dyne.teragrid.org", "info2.dyne.teragrid.org" ],
        "ssl_options": {
          "keyfile": "key.pem",
          "certfile": "cert.pem",
          "ca_certs": "ca_certs.pem"
        },
	"vhost": "teragrid_private",
        "exchange": "user_portal"
      }
    }
  ]
}
